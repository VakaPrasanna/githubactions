name: Tests Action
description: Enhanced composite action for Tests stage with comprehensive Jenkins feature support
inputs: {}
runs:
  using: composite
  steps:
  - name: Run command 1
    run: coverage run --source='.' manage.py test --settings=myproject.settings.test
    shell: bash
  - name: Run command 2
    run: coverage xml
    shell: bash
  - name: Run command 3
    run: coverage html
    shell: bash
  - name: publishHTML (REQUIRES MANUAL CONVERSION)
    run: "\n# MANUAL CONVERSION REQUIRED: publishHTML\n# Original Jenkins feature: publishHTML([\n                        allowMissing: false,\n                        alwaysLinkToLastB\n# Action needed: Review Jenkins documentation and implement equivalent logic\n# TODO: Implement this functionality manually\n"
    shell: bash
  - name: Publish test results (always)
    if: always()
    uses: dorny/test-reporter@v1
    with:
      name: Tests Test Results
      path: test-results.xml
      reporter: java-junit
